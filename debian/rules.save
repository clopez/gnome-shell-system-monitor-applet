#!/usr/bin/make -f
# -*- makefile -*-
# Sample debian/rules that uses debhelper.
# This file was originally written by Joey Hess and Craig Small.
# As a special exception, when this file is copied by dh-make into a
# dh-make output file, you may use that output file without restriction.
# This special exception was added by Craig Small in version 0.37 of dh-make.

# Uncomment this to turn on verbose mode.
#export DH_VERBOSE=1

%:
	dh $@

override_dh_installdirs:
	dh_installdirs
	# Generate .mo files instead of using the pre-generated ones, useful if
	# we add patches later.
	for dir in `ls po/`; do \
    		if `[ -d "$dir" ]`; then \
			lang=`basename "$dir"`
			mkdir -p "debian/gnome-shell-system-monitor-applet/usr/share/locale/LC_MESSAGES/$lang" \
			msgfmt "$dir/system-monitor-applet.po" -o "debian/gnome-shell-system-monitor-applet/usr/share/locale/LC_MESSAGES/$lang/system-monitor-applet.mo" \
	fi \
	done \

#        for po in `ls po/childsplay_sp_*.po`; do \
 #               lang=`echo $$po | sed -e 's%^po/childsplay_sp_%%;s%.po$$%%'`; \
  #              mkdir -p debian/childsplay/usr/share/locale/$$lang/LC_MESSAGES/; \
   #             msgfmt $$po -o debian/childsplay/usr/share/locale/$$lang/LC_MESSAGES/childsplay_sp.mo; \
    #    done

